{% extends 'ngo/base.html' %}
{% load static %}
{% load spurl %}
{% load i18n %}


{% block left-side-view %}
<div class="container">
    <div class="columns">
        <div class="column is-2">
            <div class="box">
                <div class="container">
                    <figure class="image is-4by3">
                        <img src="{{ ngo.get_avatar }}" alt="Placeholder image">
                    </figure>
                </div>
            </div>
        </div>

        <div class="column is-8">
            <footer>
                <div class="content">
                    <h1>{{ ngo.name }}</h1>
                    <p>{{ ngo.email }}</p>
                </div>
            </footer>
        </div>
    </div>
</div>

<hr />

<div class="section">
    <div class="content">
        <h3>{% trans "About the organization" %}</h3>

    <p>{{ ngo.description }}</p>
    </div>
    
</div>


<div class="container">
    {% if money_page_obj %}
    <div class="card">
        <header class="card-header">
            <div class="card-header-title is-flex is-size-4 is-paddingless">
                <span class="call-to-action" style="background-color: #31C85B">
                    <i class="fas fa-dollar-sign"></i>
                </span>
                <span class="card-content-narrow">{% trans "Donate money" %}</span>
            </div>
            <a href="#donate-money" data-action="collapse" class="card-header-icon is-hidden-fullscreen"
                aria-label="more options">
                <span class="icon">
                    <i class="fas fa-angle-down" aria-hidden="true"></i>
                </span>
            </a>
        </header>

        <div id="donate-money" class="is-collapsible {% if current_kind == 'money' %}is-active{%endif%}">
            <div class="card-content donation-card">

                <div class="container">
                    <div class="is-size-5 is-flex">
                        <figure class="call-to-action image is-96x96">
                            <img src="{% static "images/covid-all.svg" %}" alt="Covid-19 logo" width="30" height="30">
                        </figure>
                        <div class="call-to-action has-text-weight-semibold">{% trans "Donate via Netopia" %}:</div>
                    </div>
                    
                    <div class="columns is-mobile">
                        <div class="column is-two-thirds-desktop is-half-mobile">
                            <div class="control">
                                <input class="input is-success" type="text" placeholder="100 eur">
                              </div>
                        </div>
                        <div class="column is-one-third-desktop is-half-mobile">
                            <button class="button is-success is-fullwidth">{% trans "Donate" %}</button>
                        </div>
                    </div>
                </div>

                <div class="container">
                    <div class="is-size-5 is-flex">
                        <figure class="call-to-action image is-96x96">
                            <img src="{% static "images/covid-all.svg" %}" alt="Covid-19 logo" width="30" height="30">
                        </figure>
                        <div class="call-to-action has-text-weight-semibold">{% trans "Donate via transfer" %}:</div>
                    </div>
                    
                    <div class="content">
                        <p>Nume: Asocia»õia Habitat for Humanity</p>
                        <p>Sediu: Piata Unirii 16,Bucuresti</p>
                        <p>CIF: RO22556447</p>
                        <p>CUI: 323265</p>

                        <p>Cont RON: RO38BTRLRONCRT0505050505</p>
                        <p>Cont EUR: RO38BTRLRONCRT0505050505</p>
                        <p>Cont USD: RO38BTRLRONCRT0505050505</p>

                        <p>Banca: Raiffeisen Bank</p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    {% endif %}

    {% if resource_page_obj %}
    <div class="card">
        <header class="card-header">
            <div class="card-header-title is-flex is-size-4 is-paddingless">
                <span class="call-to-action" style="background-color: #05d6c8">
                    <i class="fas fa-box-open"></i>
                </span>
                <span class="card-content-narrow">{% trans "Donate resources" %}</span>
            </div>
            <a href="#donate-resources" data-action="collapse" class="card-header-icon is-hidden-fullscreen"
                aria-label="more options">
                <span class="icon">
                    <i class="fas fa-angle-down" aria-hidden="true"></i>
                </span>
            </a>
        </header>

        <div id="donate-resources" class="is-collapsible {% if current_kind == 'resource' %}is-active{%endif%}">
            <div class="card-content donation-card">
                <div class="container">
                    {% include "shared/pagination.html" with page_obj=resource_page_obj %}
                </div>

                {% if current_need.kind == 'resource' and resource_page_obj.number == 1%}
                    {% include "shared/need_form.html" with current_form=form page=resource_page_obj.number %}
                {% endif %}

                {% for need in resource_page_obj %}
                    <div class="container">
                        {% include "shared/need_form.html" with page=resource_page_obj.number %}
                    </div>
                {% endfor %}
            
            </div>
        </div>
    </div>
    {% endif %}

    {% if volunteer_page_obj %}
    <div class="card">
        <header class="card-header">
            <div class="card-header-title is-flex is-size-4 is-paddingless">
                <span class="call-to-action" style="background-color: #FFB800">
                    <i class="fas fa-people-carry"></i>
                </span>
                <span class="card-content-narrow">{% trans "Join as volunteer" %}</span>
            </div>
            <a href="#donate-volunteer" data-action="collapse" class="card-header-icon is-hidden-fullscreen"
                aria-label="more options">
                <span class="icon">
                    <i class="fas fa-angle-down" aria-hidden="true"></i>
                </span>
            </a>
        </header>

        <div id="donate-volunteer" class="is-collapsible {% if current_kind == 'volunteer' %}is-active{%endif%}">
            <div class="card-content donation-card">
                <div class="container">
                    {% include "shared/pagination.html" with page_obj=resource_page_obj %}
                </div>

                {% if current_need.kind == 'volunteer' and resource_page_obj.number == 1%}
                    {% include "shared/need_form.html" with current_form=form page=resource_page_obj.number %}
                {% endif %}

                {% for need in resource_page_obj %}
                    <div class="container">
                        {% include "shared/need_form.html" %}
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endif %}
</div>

<script>
    // Return an array of bulmaCollapsible instances (empty if no DOM node found)
    const bulmaCollapsibleInstances = bulmaCollapsible.attach('.is-collapsible');
</script>

{% endblock %}

{% block content %}
{% url "ngos" as ngos %}
{% with current_url=ngos %}
{{ block.super }}
{% endwith %}
{% endblock %}