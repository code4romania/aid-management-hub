{% extends 'base.html' %}
{% load static %}
{% load spurl %}
{% load i18n %}


{% block content %}
<div class="container">

    <div class="container" style="margin-bottom: 2em">
        <form action="{% url 'ngos' %}" method="GET">
            <div class="is-flex">
                <input class="input search-input" type="text" name="q" value="{{ current_search }}" placeholder="{% trans 'Search...' %}">
                <button class="button">Search</button>
            </div>
        </form>
    </div>

    <div id="donate_safely" class="container">
        <h1 class="donate-title">
            {% trans "Donate safely" %}
        </h1>
        <p class="donate-subtitle">
            {% trans "Direct your aid towards one of the verified organizations below. They will manage the aid and resources you provide them with so that the people most in need receive them." %}
        </p>
    </div>

    <div id="messages" class="container">
        {% if messages %}

        <ul class="messages">
            {% for message in messages %}
            <li
                    {% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}
            </li>
            {% endfor %}
        </ul>

        {% endif %}
    </div>

    {% block kind-kind-filters %}
    <div id="aid_types" class="container">
        <div class="columns is-multiline">
            <div class="column is-4 filter">
                <div
                        class="has-text-centered is-flex {% if current_kind == 'money' %}card-active{% else%}card{% endif %}">
                    <span class="call-to-action" style="background-color: #bfd1e3;">
                        <i class="far fa-check-circle"></i>
                    </span>
                    <a href="{% spurl base='{{ current_url }}' set_query='kind=money' remove_query_param='page' %}"
                       class="has-text-black">
                        <div class="card-content">{% trans "I want to help with money" %}</div>
                    </a>
                </div>
            </div>

            <div class="column is-4 filter">
                <div
                        class="has-text-centered is-flex {% if current_kind == 'resource' %}card-active{% else%}card{% endif %}">
                    <span class="call-to-action" style="background-color: #bfd1e3;">
                        <i class="far fa-check-circle"></i>
                    </span>
                    <a href="{% spurl base='{{ current_url }}' set_query='kind=resource' remove_query_param='page' %}"
                       class="has-text-black">
                        <div class="card-content">{% trans "I want to help with resources" %}</div>
                    </a>
                </div>
            </div>

            <div class="column is-4 filter">
                <div
                        class="has-text-centered is-flex {% if current_kind == 'volunteer' %}card-active{% else%}card{% endif %}">
                    <span class="call-to-action" style="background-color: #bfd1e3;">
                        <i class="far fa-check-circle"></i>
                    </span>
                    <a href="{% spurl base='{{ current_url }}' set_query='kind=volunteer' remove_query_param='page' %}"
                       class="has-text-black">
                        <div class="card-content">{% trans "I want to volunteer" %}</div>
                    </a>
                </div>
            </div>
        </div>
    </div>
    {% endblock %}

    <div class="columns">

        <div class="column is-two-thirds">
            {% block left-side-view %}
            {% endblock %}
        </div>

        <div id="right_sidebar" class="column is-one-third">
            {% block right-side-view %}
            <div class="container">

                <h1 class="donate-title">
                    <span>
                        <img src="{% static "images/covid-all.svg" %}" alt="Covid-19 logo" width="30" height="30">
                    </span>
                    {% trans "Useful instruments" %}
                </h1>

                {% for project in info %}
                <div class="tool">
                    <div class="is-flex">
                        <span style="border-left: 1rem solid; border-left-color: {{ project.color }};"></span>
                        <h1 class="card-content is-size-5" style="background-color: #f0f0f0;">
                            {{ project.call_to_action }}</h1>
                    </div>
                    <div class="card-content" style="background-color: #fafafa;">
                        {% if project.description %}
                        <p class="call-to-action">{{project.description}}</p>
                        {% endif %}
                        <button class="button is-fullwidth is-white has-text-centered has-text-weight-bold"
                                style="background-color: {{ project.color }};">{{ project.button_text }}
                        </button>
                    </div>
                </div>

                {% endfor %}
            </div>
            {% endblock %}
        </div>
    </div>

</div>
{% endblock %}
